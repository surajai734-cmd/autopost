<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AutoSocialSync | Telegram to All Social Media Auto-Poster</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #0088cc;
            --primary-dark: #0077b5;
            --instagram: #E4405F;
            --facebook: #1877F2;
            --twitter: #1DA1F2;
            --pinterest: #BD081C;
            --success: #4CAF50;
            --warning: #FF9800;
            --dark: #121212;
            --darker: #0A0A0A;
            --light: #F8F9FF;
            --gray: #2D2D3A;
            --card-bg: rgba(30, 30, 46, 0.8);
            --glass: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Montserrat', sans-serif;
            background: linear-gradient(135deg, var(--darker) 0%, #1A1A2E 50%, var(--dark) 100%);
            color: var(--light);
            min-height: 100vh;
            overflow-x: hidden;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header */
        .main-header {
            padding: 25px 0;
            position: relative;
            z-index: 100;
            border-bottom: 1px solid var(--glass-border);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }
        
        .logo-text {
            font-family: 'Poppins', sans-serif;
            font-size: 28px;
            font-weight: 700;
            background: linear-gradient(to right, #fff, #E0E0FF);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .logo-subtitle {
            font-size: 12px;
            color: var(--primary);
            letter-spacing: 2px;
            margin-top: 3px;
        }
        
        /* Auth Buttons */
        .auth-buttons {
            display: flex;
            gap: 15px;
        }
        
        .btn-auth {
            padding: 12px 25px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            font-size: 16px;
        }
        
        .btn-login {
            background: transparent;
            color: white;
            border: 2px solid var(--primary);
        }
        
        .btn-register {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }
        
        .modal-content {
            background: var(--card-bg);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
            margin: 50px auto;
            padding: 40px;
            box-shadow: var(--shadow);
            position: relative;
        }
        
        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 24px;
            cursor: pointer;
            color: #B0B0C0;
        }
        
        .modal-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .form-input {
            width: 100%;
            padding: 15px;
            background: rgba(10, 10, 10, 0.5);
            border: 2px solid var(--gray);
            border-radius: 10px;
            color: white;
            font-size: 16px;
            transition: var(--transition);
        }
        
        .form-input:focus {
            border-color: var(--primary);
            outline: none;
        }
        
        .form-select {
            width: 100%;
            padding: 15px;
            background: rgba(10, 10, 10, 0.5);
            border: 2px solid var(--gray);
            border-radius: 10px;
            color: white;
            font-size: 16px;
        }
        
        .btn-submit {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 20px;
            transition: var(--transition);
        }
        
        .btn-submit:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 136, 204, 0.4);
        }
        
        /* Platform Connection Cards */
        .platform-connection {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .connection-card {
            background: rgba(10, 10, 10, 0.5);
            border: 2px solid var(--gray);
            border-radius: 15px;
            padding: 25px;
            transition: var(--transition);
        }
        
        .connection-card.connected {
            border-color: var(--success);
        }
        
        .connection-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .platform-connection-icon {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            color: white;
        }
        
        .connection-form {
            display: none;
        }
        
        .connection-form.active {
            display: block;
        }
        
        /* Dashboard Content (Initially hidden) */
        .dashboard-content {
            display: none;
        }
        
        .dashboard-content.active {
            display: block;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="main-header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fab fa-telegram"></i>
                    </div>
                    <div>
                        <div class="logo-text">AutoSocialSync</div>
                        <div class="logo-subtitle">TELEGRAM TO SOCIAL AUTO-POSTER</div>
                    </div>
                </div>
                <div class="auth-buttons">
                    <button class="btn-auth btn-login" onclick="showLoginModal()">
                        <i class="fas fa-sign-in-alt"></i> Login
                    </button>
                    <button class="btn-auth btn-register" onclick="showRegisterModal()">
                        <i class="fas fa-user-plus"></i> Register
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('loginModal')">&times;</span>
            <h2 class="modal-title">Login to AutoSocialSync</h2>
            
            <form id="loginForm" onsubmit="loginUser(event)">
                <div class="form-group">
                    <label class="form-label">Email Address</label>
                    <input type="email" class="form-input" id="loginEmail" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <input type="password" class="form-input" id="loginPassword" required>
                </div>
                
                <button type="submit" class="btn-submit">
                    <i class="fas fa-sign-in-alt"></i> Login
                </button>
            </form>
            
            <div style="text-align: center; margin-top: 20px; color: #B0B0C0;">
                Don't have an account? <a href="#" onclick="showRegisterModal()" style="color: var(--primary);">Register here</a>
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div class="modal" id="registerModal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('registerModal')">&times;</span>
            <h2 class="modal-title">Create Account</h2>
            
            <form id="registerForm" onsubmit="registerUser(event)">
                <div class="form-group">
                    <label class="form-label">Full Name</label>
                    <input type="text" class="form-input" id="registerName" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Email Address</label>
                    <input type="email" class="form-input" id="registerEmail" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <input type="password" class="form-input" id="registerPassword" required minlength="6">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Confirm Password</label>
                    <input type="password" class="form-input" id="registerConfirmPassword" required>
                </div>
                
                <button type="submit" class="btn-submit">
                    <i class="fas fa-user-plus"></i> Create Account
                </button>
            </form>
        </div>
    </div>

    <!-- Main Dashboard (Shown after login) -->
    <div class="container">
        <div class="dashboard-content" id="dashboardContent">
            <!-- Platform Connection Section -->
            <div class="card" style="margin-top: 30px;">
                <div class="card-header">
                    <div class="card-title">
                        <i class="fas fa-link"></i> Connect Your Social Media Accounts
                    </div>
                </div>
                
                <div class="platform-connection" id="platformConnection">
                    <!-- Telegram Connection -->
                    <div class="connection-card" id="telegramCard">
                        <div class="connection-header">
                            <div class="platform-connection-icon" style="background: linear-gradient(135deg, var(--primary), var(--primary-dark));">
                                <i class="fab fa-telegram"></i>
                            </div>
                            <div>
                                <div style="font-size: 1.2rem; font-weight: 600;">Telegram</div>
                                <div style="color: #B0B0C0;">Connect your Telegram bot</div>
                            </div>
                        </div>
                        
                        <div class="connection-form active" id="telegramForm">
                            <div class="form-group">
                                <label class="form-label">Telegram Bot Token</label>
                                <input type="text" class="form-input" id="telegramToken" placeholder="123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Telegram Channel/Group Username</label>
                                <input type="text" class="form-input" id="telegramChannel" placeholder="@yourchannel">
                            </div>
                            
                            <button class="btn-submit" onclick="connectTelegram()">
                                <i class="fas fa-link"></i> Connect Telegram
                            </button>
                        </div>
                    </div>
                    
                    <!-- Facebook Connection -->
                    <div class="connection-card" id="facebookCard">
                        <div class="connection-header">
                            <div class="platform-connection-icon" style="background: linear-gradient(135deg, var(--facebook), #0D5FDB);">
                                <i class="fab fa-facebook-f"></i>
                            </div>
                            <div>
                                <div style="font-size: 1.2rem; font-weight: 600;">Facebook</div>
                                <div style="color: #B0B0C0;">Connect your Facebook page</div>
                            </div>
                        </div>
                        
                        <div class="connection-form" id="facebookForm">
                            <div class="form-group">
                                <label class="form-label">Facebook Page ID</label>
                                <input type="text" class="form-input" id="facebookPageId" placeholder="123456789012345">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Facebook Access Token</label>
                                <input type="password" class="form-input" id="facebookToken" placeholder="EAAG...">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">App ID</label>
                                <input type="text" class="form-input" id="facebookAppId" placeholder="123456789012345">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">App Secret</label>
                                <input type="password" class="form-input" id="facebookAppSecret" placeholder="abc123def456...">
                            </div>
                            
                            <button class="btn-submit" onclick="connectFacebook()">
                                <i class="fas fa-link"></i> Connect Facebook
                            </button>
                        </div>
                    </div>
                    
                    <!-- Instagram Connection -->
                    <div class="connection-card" id="instagramCard">
                        <div class="connection-header">
                            <div class="platform-connection-icon" style="background: linear-gradient(45deg, #405DE6, #5851DB, #833AB4, #C13584, #E1306C, #FD1D1D);">
                                <i class="fab fa-instagram"></i>
                            </div>
                            <div>
                                <div style="font-size: 1.2rem; font-weight: 600;">Instagram</div>
                                <div style="color: #B0B0C0;">Connect your Instagram account</div>
                            </div>
                        </div>
                        
                        <div class="connection-form" id="instagramForm">
                            <div class="form-group">
                                <label class="form-label">Instagram Account ID</label>
                                <input type="text" class="form-input" id="instagramId" placeholder="17841401234567890">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Instagram Access Token</label>
                                <input type="password" class="form-input" id="instagramToken" placeholder="IGQV...">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Username</label>
                                <input type="text" class="form-input" id="instagramUsername" placeholder="@yourusername">
                            </div>
                            
                            <button class="btn-submit" onclick="connectInstagram()">
                                <i class="fas fa-link"></i> Connect Instagram
                            </button>
                        </div>
                    </div>
                    
                    <!-- Twitter Connection -->
                    <div class="connection-card" id="twitterCard">
                        <div class="connection-header">
                            <div class="platform-connection-icon" style="background: linear-gradient(135deg, var(--twitter), #0D8BD9);">
                                <i class="fab fa-twitter"></i>
                            </div>
                            <div>
                                <div style="font-size: 1.2rem; font-weight: 600;">Twitter (X)</div>
                                <div style="color: #B0B0C0;">Connect your Twitter account</div>
                            </div>
                        </div>
                        
                        <div class="connection-form" id="twitterForm">
                            <div class="form-group">
                                <label class="form-label">API Key</label>
                                <input type="text" class="form-input" id="twitterApiKey" placeholder="ABC123...">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">API Secret Key</label>
                                <input type="password" class="form-input" id="twitterApiSecret" placeholder="xyz789...">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Access Token</label>
                                <input type="password" class="form-input" id="twitterToken" placeholder="123456-ABC...">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Access Token Secret</label>
                                <input type="password" class="form-input" id="twitterTokenSecret" placeholder="abc123...">
                            </div>
                            
                            <button class="btn-submit" onclick="connectTwitter()">
                                <i class="fas fa-link"></i> Connect Twitter
                            </button>
                        </div>
                    </div>
                    
                    <!-- Pinterest Connection -->
                    <div class="connection-card" id="pinterestCard">
                        <div class="connection-header">
                            <div class="platform-connection-icon" style="background: linear-gradient(135deg, var(--pinterest), #A30718);">
                                <i class="fab fa-pinterest"></i>
                            </div>
                            <div>
                                <div style="font-size: 1.2rem; font-weight: 600;">Pinterest</div>
                                <div style="color: #B0B0C0;">Connect your Pinterest account</div>
                            </div>
                        </div>
                        
                        <div class="connection-form" id="pinterestForm">
                            <div class="form-group">
                                <label class="form-label">Access Token</label>
                                <input type="password" class="form-input" id="pinterestToken" placeholder="pina_ABC123...">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Board ID</label>
                                <input type="text" class="form-input" id="pinterestBoardId" placeholder="123456789012345678">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">App ID</label>
                                <input type="text" class="form-input" id="pinterestAppId" placeholder="1234567890123">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">App Secret</label>
                                <input type="password" class="form-input" id="pinterestAppSecret" placeholder="psecret_abc...">
                            </div>
                            
                            <button class="btn-submit" onclick="connectPinterest()">
                                <i class="fas fa-link"></i> Connect Pinterest
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Auto-Post Settings -->
                <div style="margin-top: 40px;">
                    <div class="card-title" style="font-size: 1.3rem; margin-bottom: 20px;">
                        <i class="fas fa-cogs"></i> Auto-Post Settings
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                        <div class="form-group">
                            <label class="form-label">Select Platforms for Auto-Posting</label>
                            <div style="margin-top: 10px;">
                                <label style="display: block; margin-bottom: 10px;">
                                    <input type="checkbox" id="platformTelegram" checked disabled> Telegram (Source)
                                </label>
                                <label style="display: block; margin-bottom: 10px;">
                                    <input type="checkbox" id="platformFacebook" checked> Facebook
                                </label>
                                <label style="display: block; margin-bottom: 10px;">
                                    <input type="checkbox" id="platformInstagram" checked> Instagram
                                </label>
                                <label style="display: block; margin-bottom: 10px;">
                                    <input type="checkbox" id="platformTwitter" checked> Twitter
                                </label>
                                <label style="display: block; margin-bottom: 10px;">
                                    <input type="checkbox" id="platformPinterest" checked> Pinterest
                                </label>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Posting Schedule</label>
                            <select class="form-select" id="postingSchedule">
                                <option value="instant">Instant (Post immediately)</option>
                                <option value="5min">5 minutes delay</option>
                                <option value="10min">10 minutes delay</option>
                                <option value="30min">30 minutes delay</option>
                                <option value="custom">Custom time</option>
                            </select>
                            
                            <div style="margin-top: 15px;" id="customTimeContainer" style="display: none;">
                                <label class="form-label">Custom Post Time</label>
                                <input type="time" class="form-input" id="customPostTime">
                            </div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 30px;">
                        <button class="btn-submit" onclick="saveAutoPostSettings()">
                            <i class="fas fa-save"></i> Save Auto-Post Settings
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Test Post Section -->
            <div class="card" style="margin-top: 30px;">
                <div class="card-header">
                    <div class="card-title">
                        <i class="fas fa-paper-plane"></i> Test Auto-Posting
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Test Post Content</label>
                    <textarea class="form-input" id="testPostContent" rows="4" placeholder="Type your test post content here..."></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Image URL (Optional)</label>
                    <input type="text" class="form-input" id="testImageUrl" placeholder="https://example.com/image.jpg">
                </div>
                
                <div style="display: flex; gap: 15px; margin-top: 20px;">
                    <button class="btn-submit" style="flex: 1;" onclick="sendTestPost()">
                        <i class="fas fa-paper-plane"></i> Send Test Post
                    </button>
                    <button class="btn-submit" style="background: linear-gradient(135deg, var(--warning), #e68900); flex: 1;" onclick="checkAllConnections()">
                        <i class="fas fa-plug"></i> Check All Connections
                    </button>
                </div>
            </div>
            
            <!-- Status Dashboard -->
            <div class="card" style="margin-top: 30px;">
                <div class="card-header">
                    <div class="card-title">
                        <i class="fas fa-tachometer-alt"></i> Status Dashboard
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;" id="statusDashboard">
                    <!-- Status will be updated here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // User Management
        let currentUser = null;
        let userCredentials = {};
        
        // Modal Functions
        function showLoginModal() {
            document.getElementById('loginModal').style.display = 'block';
        }
        
        function showRegisterModal() {
            document.getElementById('registerModal').style.display = 'block';
        }
        
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        
        // Close modal when clicking outside
        window.onclick = function(event) {
            if (event.target.className === 'modal') {
                event.target.style.display = 'none';
            }
        }
        
        // User Registration
        function registerUser(event) {
            event.preventDefault();
            
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('registerConfirmPassword').value;
            
            if (password !== confirmPassword) {
                alert('Passwords do not match!');
                return;
            }
            
            // Save user to localStorage
            const user = {
                id: Date.now(),
                name: name,
                email: email,
                password: btoa(password), // Simple encoding (not secure for production)
                createdAt: new Date().toISOString(),
                credentials: {}
            };
            
            localStorage.setItem('autosocialsync_user', JSON.stringify(user));
            currentUser = user;
            
            alert('Registration successful! Please login.');
            closeModal('registerModal');
            showLoginModal();
        }
        
        // User Login
        function loginUser(event) {
            event.preventDefault();
            
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Check user in localStorage
            const userStr = localStorage.getItem('autosocialsync_user');
            if (!userStr) {
                alert('No user found. Please register first.');
                return;
            }
            
            const user = JSON.parse(userStr);
            
            if (user.email === email && atob(user.password) === password) {
                currentUser = user;
                userCredentials = user.credentials || {};
                
                // Show dashboard
                document.getElementById('dashboardContent').classList.add('active');
                document.querySelector('.auth-buttons').style.display = 'none';
                
                closeModal('loginModal');
                loadUserCredentials();
                updateStatusDashboard();
                
                alert('Login successful! Welcome ' + user.name);
            } else {
                alert('Invalid email or password!');
            }
        }
        
        // Load user credentials
        function loadUserCredentials() {
            if (!currentUser || !currentUser.credentials) return;
            
            // Load Telegram credentials
            if (currentUser.credentials.telegram) {
                document.getElementById('telegramToken').value = currentUser.credentials.telegram.token || '';
                document.getElementById('telegramChannel').value = currentUser.credentials.telegram.channel || '';
                document.getElementById('telegramCard').classList.add('connected');
            }
            
            // Load Facebook credentials
            if (currentUser.credentials.facebook) {
                document.getElementById('facebookPageId').value = currentUser.credentials.facebook.pageId || '';
                document.getElementById('facebookToken').value = currentUser.credentials.facebook.token || '';
                document.getElementById('facebookAppId').value = currentUser.credentials.facebook.appId || '';
                document.getElementById('facebookAppSecret').value = currentUser.credentials.facebook.appSecret || '';
                document.getElementById('facebookCard').classList.add('connected');
            }
            
            // Load Instagram credentials
            if (currentUser.credentials.instagram) {
                document.getElementById('instagramId').value = currentUser.credentials.instagram.id || '';
                document.getElementById('instagramToken').value = currentUser.credentials.instagram.token || '';
                document.getElementById('instagramUsername').value = currentUser.credentials.instagram.username || '';
                document.getElementById('instagramCard').classList.add('connected');
            }
            
            // Load Twitter credentials
            if (currentUser.credentials.twitter) {
                document.getElementById('twitterApiKey').value = currentUser.credentials.twitter.apiKey || '';
                document.getElementById('twitterApiSecret').value = currentUser.credentials.twitter.apiSecret || '';
                document.getElementById('twitterToken').value = currentUser.credentials.twitter.token || '';
                document.getElementById('twitterTokenSecret').value = currentUser.credentials.twitter.tokenSecret || '';
                document.getElementById('twitterCard').classList.add('connected');
            }
            
            // Load Pinterest credentials
            if (currentUser.credentials.pinterest) {
                document.getElementById('pinterestToken').value = currentUser.credentials.pinterest.token || '';
                document.getElementById('pinterestBoardId').value = currentUser.credentials.pinterest.boardId || '';
                document.getElementById('pinterestAppId').value = currentUser.credentials.pinterest.appId || '';
                document.getElementById('pinterestAppSecret').value = currentUser.credentials.pinterest.appSecret || '';
                document.getElementById('pinterestCard').classList.add('connected');
            }
        }
        
        // Platform Connection Functions
        function connectTelegram() {
            const token = document.getElementById('telegramToken').value;
            const channel = document.getElementById('telegramChannel').value;
            
            if (!token || !channel) {
                alert('Please enter Telegram Bot Token and Channel username');
                return;
            }
            
            // Save credentials
            if (!currentUser.credentials) currentUser.credentials = {};
            currentUser.credentials.telegram = {
                token: token,
                channel: channel,
                connectedAt: new Date().toISOString()
            };
            
            saveUserData();
            document.getElementById('telegramCard').classList.add('connected');
            alert('Telegram connected successfully!');
        }
        
        function connectFacebook() {
            const pageId = document.getElementById('facebookPageId').value;
            const token = document.getElementById('facebookToken').value;
            const appId = document.getElementById('facebookAppId').value;
            const appSecret = document.getElementById('facebookAppSecret').value;
            
            if (!pageId || !token) {
                alert('Please enter Facebook Page ID and Access Token');
                return;
            }
            
            // Save credentials
            if (!currentUser.credentials) currentUser.credentials = {};
            currentUser.credentials.facebook = {
                pageId: pageId,
                token: token,
                appId: appId,
                appSecret: appSecret,
                connectedAt: new Date().toISOString()
            };
            
            saveUserData();
            document.getElementById('facebookCard').classList.add('connected');
            alert('Facebook connected successfully!');
        }
        
        function connectInstagram() {
            const id = document.getElementById('instagramId').value;
            const token = document.getElementById('instagramToken').value;
            const username = document.getElementById('instagramUsername').value;
            
            if (!id || !token) {
                alert('Please enter Instagram Account ID and Access Token');
                return;
            }
            
            // Save credentials
            if (!currentUser.credentials) currentUser.credentials = {};
            currentUser.credentials.instagram = {
                id: id,
                token: token,
                username: username,
                connectedAt: new Date().toISOString()
            };
            
            saveUserData();
            document.getElementById('instagramCard').classList.add('connected');
            alert('Instagram connected successfully!');
        }
        
        function connectTwitter() {
            const apiKey = document.getElementById('twitterApiKey').value;
            const apiSecret = document.getElementById('twitterApiSecret').value;
            const token = document.getElementById('twitterToken').value;
            const tokenSecret = document.getElementById('twitterTokenSecret').value;
            
            if (!apiKey || !apiSecret || !token || !tokenSecret) {
                alert('Please enter all Twitter API credentials');
                return;
            }
            
            // Save credentials
            if (!currentUser.credentials) currentUser.credentials = {};
            currentUser.credentials.twitter = {
                apiKey: apiKey,
                apiSecret: apiSecret,
                token: token,
                tokenSecret: tokenSecret,
                connectedAt: new Date().toISOString()
            };
            
            saveUserData();
            document.getElementById('twitterCard').classList.add('connected');
            alert('Twitter connected successfully!');
        }
        
        function connectPinterest() {
            const token = document.getElementById('pinterestToken').value;
            const boardId = document.getElementById('pinterestBoardId').value;
            const appId = document.getElementById('pinterestAppId').value;
            const appSecret = document.getElementById('pinterestAppSecret').value;
            
            if (!token || !boardId) {
                alert('Please enter Pinterest Access Token and Board ID');
                return;
            }
            
            // Save credentials
            if (!currentUser.credentials) currentUser.credentials = {};
            currentUser.credentials.pinterest = {
                token: token,
                boardId: boardId,
                appId: appId,
                appSecret: appSecret,
                connectedAt: new Date().toISOString()
            };
            
            saveUserData();
            document.getElementById('pinterestCard').classList.add('connected');
            alert('Pinterest connected successfully!');
        }
        
        // Save user data to localStorage
        function saveUserData() {
            if (!currentUser) return;
            localStorage.setItem('autosocialsync_user', JSON.stringify(currentUser));
        }
        
        // Auto-Post Settings
        function saveAutoPostSettings() {
            const platforms = {
                facebook: document.getElementById('platformFacebook').checked,
                instagram: document.getElementById('platformInstagram').checked,
                twitter: document.getElementById('platformTwitter').checked,
                pinterest: document.getElementById('platformPinterest').checked
            };
            
            const schedule = document.getElementById('postingSchedule').value;
            const customTime = document.getElementById('customPostTime').value;
            
            // Save settings
            if (!currentUser.settings) currentUser.settings = {};
            currentUser.settings.autoPost = {
                platforms: platforms,
                schedule: schedule,
                customTime: customTime,
                updatedAt: new Date().toISOString()
            };
            
            saveUserData();
            alert('Auto-post settings saved successfully!');
        }
        
        // Send Test Post
        async function sendTestPost() {
            const content = document.getElementById('testPostContent').value;
            const imageUrl = document.getElementById('testImageUrl').value;
            
            if (!content) {
                alert('Please enter test post content');
                return;
            }
            
            // Check if Telegram is connected
            if (!currentUser.credentials.telegram) {
                alert('Please connect Telegram first');
                return;
            }
            
            // Simulate posting to all platforms
            alert('Test post sent! In real implementation, this would post to all connected platforms.\n\nPost Content: ' + content);
        }
        
        // Check All Connections
        async function checkAllConnections() {
            const platforms = ['telegram', 'facebook', 'instagram', 'twitter', 'pinterest'];
            let results = [];
            
            for (let platform of platforms) {
                if (currentUser.credentials[platform]) {
                    results.push(`${platform}: ✅ Connected`);
                } else {
                    results.push(`${platform}: ❌ Not Connected`);
                }
            }
            
            alert('Connection Status:\n\n' + results.join('\n'));
        }
        
        // Update Status Dashboard
        function updateStatusDashboard() {
            const dashboard = document.getElementById('statusDashboard');
            if (!dashboard) return;
            
            let html = '';
            
            // Telegram Status
            const telegramStatus = currentUser.credentials.telegram ? '✅ Connected' : '❌ Not Connected';
            html += `
                <div class="status-card" style="background: rgba(0, 136, 204, 0.1); padding: 20px; border-radius: 10px; border-left: 4px solid var(--primary);">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                        <div style="width: 40px; height: 40px; background: var(--primary); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                            <i class="fab fa-telegram" style="color: white;"></i>
                        </div>
                        <div>
                            <div style="font-weight: 600;">Telegram</div>
                            <div style="font-size: 0.9rem; color: #B0B0C0;">Source Platform</div>
                        </div>
                    </div>
                    <div style="color: ${telegramStatus.includes('✅') ? 'var(--success)' : 'var(--warning)'}">
                        ${telegramStatus}
                    </div>
                </div>
            `;
            
            // Facebook Status
            const facebookStatus = currentUser.credentials.facebook ? '✅ Connected' : '❌ Not Connected';
            html += `
                <div class="status-card" style="background: rgba(24, 119, 242, 0.1); padding: 20px; border-radius: 10px; border-left: 4px solid var(--facebook);">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                        <div style="width: 40px; height: 40px; background: var(--facebook); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                            <i class="fab fa-facebook-f" style="color: white;"></i>
                        </div>
                        <div>
                            <div style="font-weight: 600;">Facebook</div>
                            <div style="font-size: 0.9rem; color: #B0B0C0;">Auto-Post Target</div>
                        </div>
                    </div>
                    <div style="color: ${facebookStatus.includes('✅') ? 'var(--success)' : 'var(--warning)'}">
                        ${facebookStatus}
                    </div>
                </div>
            `;
            
            // Instagram Status
            const instagramStatus = currentUser.credentials.instagram ? '✅ Connected' : '❌ Not Connected';
            html += `
                <div class="status-card" style="background: rgba(228, 64, 95, 0.1); padding: 20px; border-radius: 10px; border-left: 4px solid var(--instagram);">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                        <div style="width: 40px; height: 40px; background: linear-gradient(45deg, #405DE6, #5851DB, #833AB4, #C13584, #E1306C, #FD1D1D); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                            <i class="fab fa-instagram" style="color: white;"></i>
                        </div>
                        <div>
                            <div style="font-weight: 600;">Instagram</div>
                            <div style="font-size: 0.9rem; color: #B0B0C0;">Auto-Post Target</div>
                        </div>
                    </div>
                    <div style="color: ${instagramStatus.includes('✅') ? 'var(--success)' : 'var(--warning)'}">
                        ${instagramStatus}
                    </div>
                </div>
            `;
            
            // Twitter Status
            const twitterStatus = currentUser.credentials.twitter ? '✅ Connected' : '❌ Not Connected';
            html += `
                <div class="status-card" style="background: rgba(29, 161, 242, 0.1); padding: 20px; border-radius: 10px; border-left: 4px solid var(--twitter);">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                        <div style="width: 40px; height: 40px; background: var(--twitter); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                            <i class="fab fa-twitter" style="color: white;"></i>
                        </div>
                        <div>
                            <div style="font-weight: 600;">Twitter (X)</div>
                            <div style="font-size: 0.9rem; color: #B0B0C0;">Auto-Post Target</div>
                        </div>
                    </div>
                    <div style="color: ${twitterStatus.includes('✅') ? 'var(--success)' : 'var(--warning)'}">
                        ${twitterStatus}
                    </div>
                </div>
            `;
            
            // Pinterest Status
            const pinterestStatus = currentUser.credentials.pinterest ? '✅ Connected' : '❌ Not Connected';
            html += `
                <div class="status-card" style="background: rgba(189, 8, 28, 0.1); padding: 20px; border-radius: 10px; border-left: 4px solid var(--pinterest);">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                        <div style="width: 40px; height: 40px; background: var(--pinterest); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                            <i class="fab fa-pinterest" style="color: white;"></i>
                        </div>
                        <div>
                            <div style="font-weight: 600;">Pinterest</div>
                            <div style="font-size: 0.9rem; color: #B0B0C0;">Auto-Post Target</div>
                        </div>
                    </div>
                    <div style="color: ${pinterestStatus.includes('✅') ? 'var(--success)' : 'var(--warning)'}">
                        ${pinterestStatus}
                    </div>
                </div>
            `;
            
            dashboard.innerHTML = html;
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Check if user is already logged in
            const userStr = localStorage.getItem('autosocialsync_user');
            if (userStr) {
                currentUser = JSON.parse(userStr);
                document.getElementById('dashboardContent').classList.add('active');
                document.querySelector('.auth-buttons').style.display = 'none';
                loadUserCredentials();
                updateStatusDashboard();
            }
            
            // Schedule dropdown event
            document.getElementById('postingSchedule').addEventListener('change', function() {
                const customContainer = document.getElementById('customTimeContainer');
                if (this.value === 'custom') {
                    customContainer.style.display = 'block';
                } else {
                    customContainer.style.display = 'none';
                }
            });
        });
    </script>
</body>
</html>